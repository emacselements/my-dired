# my-dired

A comprehensive Emacs Dired configuration that enhances the built-in file manager with improved navigation, visual feedback, and powerful file operations.

## Support & Donations

If you find this project helpful, consider supporting it!

[Donate via PayPal](https://www.paypal.com/paypalme/revrari)

## Features

### üß≠ Enhanced Navigation
- **Smart top/bottom navigation**: `Home`/`End` keys skip header lines and go directly to first/last files
- **Quick directory traversal**: `q` key goes up one directory instead of quitting Dired
- **Intelligent targeting**: Copy/move operations automatically target other Dired windows

### üé® Visual Improvements
- **Clean interface**: Hide file details and dotfiles by default
- **Organized listing**: Show directories first, sorted by time with human-readable sizes
- **Edit highlighting**: Visual feedback when renaming files directly in Dired (wdired mode)

### üîß File Operations
- **Batch rename**: Press `N` to rename marked files (spaces ‚Üí dashes, lowercase)
- **File concatenation**: Combine multiple text files into `result.txt` (aliased as `cat`)
- **Directory cleanup**: Remove empty directories recursively with dry-run option

### üîç Enhanced File Opening
- **Symlink resolution**: Directories open with resolved canonical paths
- **Custom Enter behavior**: Seamless navigation between files and folders

### üîå External Tool Integration
- **dired-narrow support**: Filter files by name with `C-x /` (if package available)

## Installation

### Manual Installation

1. Clone this repository:
   ```bash
   git clone https://github.com/emacselements/my-dired.git
   ```

2. Add to your Emacs configuration:
   ```elisp
   (add-to-list 'load-path "/path/to/my-dired")
   (require 'my-dired)
   ```

### Using `use-package`

```elisp
(use-package my-dired
  :load-path "/path/to/my-dired"
  :after dired)
```

## Key Bindings

| Key | Function | Description |
|-----|----------|-------------|
| `Home` | `dired-back-to-top` | Jump to first file (skip header) |
| `End` | `dired-jump-to-bottom` | Jump to last file |
| `Enter` | `my-dired-find-file` | Open file/folder with symlink resolution |
| `q` | `my-dired-up-directory` | Go up one directory |
| `N` | `dired-rename-spaces-to-dashes-lowercase` | Rename marked files |
| `C-x /` | `dired-narrow` | Filter files by name (if available) |

## Functions

### File Operations

#### `dired-rename-spaces-to-dashes-lowercase`
Renames marked files and folders by:
- Replacing spaces with dashes
- Converting to lowercase
- Preserving file extensions
- Handling both files and directories safely

Example: `My File Name.txt` ‚Üí `my-file-name.txt`

#### `append-marked-files` (alias: `cat`)
Concatenates marked files into `result.txt` in the same directory. Only processes regular files, maintaining order.

#### `delete-empty-dirs`
Recursively finds and deletes empty directories with:
- Interactive confirmation
- Dry-run mode for preview
- Progress reporting

### Navigation

#### `dired-back-to-top` / `dired-jump-to-bottom`
Smart navigation that skips Dired header information and goes directly to file entries.

#### `my-dired-find-file`
Enhanced file opening that:
- Resolves symlinks for directories
- Opens files normally
- Replaces current buffer for seamless navigation

## Configuration

### Default Settings
```elisp
(setq dired-listing-switches "-alth --group-directories-first")
(setq dired-dwim-target 'dired-dwim-target-next)
(setq dired-omit-files "^\\..*$")
```

### Customization
The configuration automatically:
- Hides file details on startup
- Enables omit mode for dotfiles
- Sets up visual feedback for filename editing

## Requirements

- Emacs 24.1+
- `dired` and `dired-x` (built-in)
- Optional: `dired-narrow` package for filtering

## File Organization

The code is organized into logical sections separated by form feed characters (`^L`):

- **Navigation Enhancements**
- **External Tool Integration** 
- **Custom File Opening**
- **Directory Navigation**
- **WDired Visual Feedback**
- **File Concatenation**
- **Directory Cleanup**
- **File Renaming**

Navigate between sections with `C-x [` (previous) and `C-x ]` (next).

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## License

This project is licensed under the GPL-3.0 License - see the LICENSE file for details.

## Author

Raoul Comninos

## Acknowledgments

- Built on top of Emacs' excellent built-in Dired
- Inspired by the Emacs community's Dired enhancements